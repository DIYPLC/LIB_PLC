<?xml version="1.0" encoding="utf-8"?>
<project xmlns="http://www.plcopen.org/xml/tc6_0200">
  <fileHeader companyName="" productName="CODESYS" productVersion="CODESYS V3.5 SP19" creationDateTime="2026-01-26T16:59:15.5899917" />
  <contentHeader name="PLC_ODOT.project" modificationDateTime="2026-01-26T16:51:59.9229809">
    <coordinateInfo>
      <fbd>
        <scaling x="1" y="1" />
      </fbd>
      <ld>
        <scaling x="1" y="1" />
      </ld>
      <sfc>
        <scaling x="1" y="1" />
      </sfc>
    </coordinateInfo>
    <addData>
      <data name="http://www.3s-software.com/plcopenxml/projectinformation" handleUnknown="implementation">
        <ProjectInformation />
      </data>
    </addData>
  </contentHeader>
  <types>
    <dataTypes />
    <pous>
      <pou name="FbFilterA" pouType="functionBlock">
        <interface>
          <inputVars>
            <variable name="In">
              <type>
                <REAL />
              </type>
              <initialValue>
                <simpleValue value="0" />
              </initialValue>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Входной сигнал до фильтрации.</xhtml>
              </documentation>
            </variable>
            <variable name="Tf">
              <type>
                <REAL />
              </type>
              <initialValue>
                <simpleValue value="1" />
              </initialValue>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Постоянная времени фильтра [с].</xhtml>
              </documentation>
            </variable>
            <variable name="Ts">
              <type>
                <REAL />
              </type>
              <initialValue>
                <simpleValue value="0.1" />
              </initialValue>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Шаг дискретизации по времени [с].</xhtml>
              </documentation>
            </variable>
          </inputVars>
          <outputVars>
            <variable name="Out">
              <type>
                <REAL />
              </type>
              <initialValue>
                <simpleValue value="0" />
              </initialValue>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Выходной сигнал после фильтрации.</xhtml>
              </documentation>
            </variable>
          </outputVars>
          <tempVars>
            <variable name="Tmp">
              <type>
                <REAL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">Временная переменная вход интегратора.</xhtml>
              </documentation>
            </variable>
          </tempVars>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml">//      DbFilterA
//    +-----------+
//    | FbFilterA |
// -&gt;-|In      Out|-&gt;-
//   -|Tf         |
//   -|Ts         |
//    +-----------+

//W(s) = 1 / (1 + Tf * s) при Ts-&gt;0.
IF (Tf &lt;= 0.0) THEN
Out := In;
ELSE
Tmp := (In - Out) / Tf;
Out := Out + Tmp * Ts;
END_IF;

// Внутренняя схема фильтра.
//
//          Вычитание   Деление      Интегрирование
//            +---+     +------+     +----------+
// In -----&gt;--| + |     |   1  | Tmp |  Ts * z  |
//            |   |--&gt;--| ---- |--&gt;--| -------- |--+--&gt;-- Out
//      +--&gt;--| - |     |  Tf  |     |   z - 1  |  |
//      |     +---+     +------+     +----------+  |
//      |                                          |
//      +------------------------------------------+

// Условное графическое обозначение (приближенное).
//
//    +--------------+
//    |      1       |
// -&gt;-| ------------ |-&gt;-
//    |  Tf * s + 1  |
//    +--------------+

// Электрическая схема фильтра.
//
//         R                  
// +    +-----+              +
// o----|     |----o---------o
//      +-----+    |          
//                 | C        
//               -----        
// U In          -----   U Out
//                 |          
// -               |         -
// o---------------o---------o
// Tf = R * C ([с] = [Ом] * [Ф])

// Временная характеристика.
//
// ^ Out
// |
// 1         *** Y(t) = 1 - exp(-(t/Tf))
// |      *     
// |    *       
// |  *         
// | *          
// 0---------------&gt; t[s]
//
// ^ In
// |
// 1************ X(t) = 1
// |            
// |            
// |            
// |            
// 0---------------&gt; t[s]

//  +---------+
//  | GNU GPL |
//  +---------+
//  |
//  |
//  .= .-_-. =.
// ((_/)o o(\_))
//  `-'(. .)`-'
//  |/| \_/ |\
//  ( |     | )
//  /"\_____/"\
//  \__)   (__/
// @COPYLEFT ALL WRONGS RESERVED :)
// Author: VA
// Contacts: DIY.PLC.314@gmail.com
// License: GNU GPL v2
//
// https://www.youtube.com/@DIY_PLC
// https://github.com/DIYPLC
</xhtml>
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>1730dc80-3e66-481b-af8b-9eaee99eda79</ObjectId>
          </data>
        </addData>
      </pou>
    </pous>
  </types>
  <instances>
    <configurations />
  </instances>
  <addData>
    <data name="http://www.3s-software.com/plcopenxml/projectstructure" handleUnknown="discard">
      <ProjectStructure>
        <Folder Name="LIB_PLC">
          <Object Name="FbFilterA" ObjectId="1730dc80-3e66-481b-af8b-9eaee99eda79" />
        </Folder>
      </ProjectStructure>
    </data>
  </addData>
</project>